---
source: varnish-macros/src/tests.rs
---
[
  [
    "$VMOD",
    "1.0"
  ],
  [
    "$EVENT",
    "Vmod_task_Func.f_on_event"
  ],
  [
    "$FUNC",
    "per_vcl_val",
    [
      [
        "VOID"
      ],
      "Vmod_task_Func.f_per_vcl_val",
      "",
      [
        "PRIV_VCL",
        "vcl"
      ]
    ]
  ],
  [
    "$FUNC",
    "per_vcl_opt",
    [
      [
        "VOID"
      ],
      "Vmod_task_Func.f_per_vcl_opt",
      "struct arg_vmod_task_per_vcl_opt",
      [
        "PRIV_VCL",
        "vcl"
      ],
      [
        "INT",
        "op",
        null,
        null,
        true
      ]
    ]
  ],
  [
    "$FUNC",
    "per_tsk_val",
    [
      [
        "VOID"
      ],
      "Vmod_task_Func.f_per_tsk_val",
      "",
      [
        "PRIV_TASK",
        "tsk"
      ]
    ]
  ],
  [
    "$FUNC",
    "per_tsk_opt",
    [
      [
        "VOID"
      ],
      "Vmod_task_Func.f_per_tsk_opt",
      "struct arg_vmod_task_per_tsk_opt",
      [
        "PRIV_TASK",
        "tsk"
      ],
      [
        "INT",
        "op",
        null,
        null,
        true
      ]
    ]
  ],
  [
    "$OBJ",
    "PerVcl",
    {
      "NULL_OK": false
    },
    "struct vmod_task_PerVcl",
    [
      "$INIT",
      [
        [
          "VOID"
        ],
        "Vmod_task_Func.f_PerVcl__init",
        "",
        [
          "PRIV_VCL",
          "__vp"
        ]
      ]
    ],
    [
      "$FINI",
      [
        [
          "VOID"
        ],
        "Vmod_task_Func.f_PerVcl__fini",
        ""
      ]
    ],
    [
      "$METHOD",
      "both",
      [
        [
          "VOID"
        ],
        "Vmod_task_Func.f_PerVcl_both",
        "",
        [
          "PRIV_TASK",
          "tsk"
        ],
        [
          "PRIV_VCL",
          "vcl"
        ]
      ]
    ],
    [
      "$METHOD",
      "both_pos",
      [
        [
          "VOID"
        ],
        "Vmod_task_Func.f_PerVcl_both_pos",
        "",
        [
          "PRIV_TASK",
          "tsk"
        ],
        [
          "PRIV_VCL",
          "vcl"
        ],
        [
          "INT",
          "val"
        ]
      ]
    ],
    [
      "$METHOD",
      "both_opt",
      [
        [
          "VOID"
        ],
        "Vmod_task_Func.f_PerVcl_both_opt",
        "struct arg_vmod_task_PerVcl_both_opt",
        [
          "PRIV_TASK",
          "tsk"
        ],
        [
          "PRIV_VCL",
          "vcl"
        ],
        [
          "INT",
          "opt",
          null,
          null,
          true
        ]
      ]
    ]
  ]
]
