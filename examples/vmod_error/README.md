<!--

   !!!!!!  WARNING: DO NOT EDIT THIS FILE!

   This file was generated from the Varnish VMOD source code.
   It will be automatically updated on each build.

-->
# Varnish Module (VMOD) `error`

Parse files into numbers

This is a simple example of how to handle errors in a Varnish VMOD.
All three functions will do the same thing: read a file and try to parse its content into a VCL_INT.
However, they will handle failure (file not found, permission issue, unparsable content, etc.) differently.

```vcl
// Place import statement at the top of your VCL file
// This loads vmod from a standard location
import error;

// Or load vmod from a specific file
import error from "path/to/liberror.so";
```

### Function `INT cannot_fail(STRING path)`

This function never fails, returning 0 if anything goes wrong

### Function `INT manual_fail(STRING fp)`

If the file cannot be parsed into an INT, the vmod will trigger a VCL error,
stopping the processing of the request and logging the error.
The client will receive an error message with a 500 status code.

We call `ctx.fail()` ourselves, but we still need to return an i64.

### Function `INT result_fail(STRING fp)`

From a user perspective, this function does the same thing as `.manual_fail()`,
except its underlying `rust` implementation is slightly different.

In a more idiomatic way, we return a Result, and the generated boilerplate will be in charge of
calling `ctx.fail() and return a default value.
